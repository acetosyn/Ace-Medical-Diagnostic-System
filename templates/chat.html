<div id="chatInterface">
  <!-- 📚 Sidebar -->
  <div id="chatSidebar">
    <div class="p-4 border-b border-gray-200">
      <button class="w-full flex items-center justify-center px-4 py-2 bg-white border border-gray-300 rounded-button text-gray-700 hover:bg-gray-50">
        <i class="ri-add-line mr-2"></i> New Chat
      </button>
    </div>
    <div class="flex-1 overflow-y-auto p-2">
      <div class="space-y-2">
        <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 flex items-center text-sm">
          <i class="ri-message-3-line mr-2"></i> Previous Consultation - July 12
        </button>
        <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 flex items-center text-sm">
          <i class="ri-message-3-line mr-2"></i> Lab Results Analysis - July 10
        </button>
        <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 flex items-center text-sm">
          <i class="ri-message-3-line mr-2"></i> Patient History Review - July 8
        </button>
      </div>
    </div>
  </div>

  <!-- 💬 Main Chat Content -->
  <div id="chatContent">
    <!-- Header -->
    <div class="chat-header">
      <span class="text-3xl font-['Playfair_Display'] text-primary uppercase">ACE</span>
      <h1 class="text-lg font-semibold text-gray-900">Diagnostic AI Assistant</h1>
    </div>

    <!-- Messages Area (Scrolls independently) -->
    <div id="chatMessages">
      <div class="chat-bubble-assistant">
        <p>Hello! I'm your AI diagnostic assistant. Please describe the patient's symptoms and I'll help analyze them.</p>
      </div>
    </div>

    <!-- 🐞 TTS Debug Display (for dev only) -->
<div id="tts-debug" style="font-size: 12px; color: #999; padding: 4px 12px;"></div>

    <!-- Input Area -->
    <div class="chat-input-wrapper">
      <form id="chatForm">
        <div class="chat-tools space-x-2 flex items-center">
          <!-- Hidden File Upload -->
          <input type="file" id="fileInput" class="hidden" accept=".pdf,.jpg,.jpeg,.png" />

          <!-- Attachment Button -->
          <button type="button" title="Attach File">
            <i class="ri-attachment-2" aria-label="Attach File"></i>
          </button>

          <!-- Mic Button for Voice Input -->
          <button type="button" id="mic-button" title="Speak Message">
            <i class="ri-mic-line" aria-label="Speak"></i>
          </button>

          <!-- Speaker Button for TTS -->
          <button type="button" id="speaker-button" title="Read Bot Response">
            <i class="ri-volume-up-line" aria-label="Read Response"></i>
          </button>
        </div>

        <!-- Message Input -->
        <textarea id="messageInput" rows="1" placeholder="Type your message..." class="resize-none w-full px-3 py-2 border rounded-button focus:outline-none focus:ring-2 focus:ring-primary mt-2"></textarea>

              <!-- Send Button -->
        <button type="submit" class="send-button ml-2" title="Send">
          <i class="ri-send-plane-line"></i>
        </button>
      </form>
    </div>
  </div>
</div>

<!-- ✅ Load TTS script after all chat DOM is loaded -->
<!-- <script src="{{ url_for('static', filename='js/tts.js') }}"></script> -->
